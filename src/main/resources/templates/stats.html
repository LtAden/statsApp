<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Stats</title>
    <script>
        function addStat() {
            const name = prompt("Enter the name of the new stat:");
            if (name) {
                const form = document.createElement("form");
                form.method = "post";
                form.action = "/stats/add";

                const input = document.createElement("input");
                input.type = "hidden";
                input.name = "statName";
                input.value = name;

                form.appendChild(input);
                document.body.appendChild(form);
                form.submit();
            }
        }
    </script>
</head>
<body>
<h1>Stats</h1>
<table>
    <tr>
        <th>Name</th>
        <th>Count</th>
        <th>Increment</th>
        <th>Add Custom Amount</th>
        <th>Archivise</th>>
    </tr>
    <tr th:each="stat, iterStat : ${stats}">
        <td th:text="${stat.statName}"></td>
        <td th:text="${stat.count}"></td>
        <td>
            <form th:action="@{/stats/increment/{index}(index=${iterStat.index})}" method="post" style="display: inline;">
                <button type="submit">+1</button>
            </form>
        </td>
        <td>
            <form th:action="@{/stats/addCustomAmount}" method="post" style="display: inline;">
                <input type="hidden" name="index" th:value="${iterStat.index}" />
                <input type="number" name="count" value="" required />
                <button type="submit">Add Amount</button>
            </form>
        </td>
        <td>
            <form th:action="@{/stats/archive}" method="post" style="display: inline;">
                <input type="hidden" name="index" th:value="${iterStat.index}" />
                <button type="submit">Archive stat</button>
            </form>
        </td>
    </tr>
</table>
<button onclick="addStat()">Add New Stat</button>
</body>
</html>